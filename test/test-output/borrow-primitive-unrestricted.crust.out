[INFO] Begin checking linearity, generating program info
[INFO] Generated program info, checking linearity of functions
[INFO] Checking linearity of function: sum
[DEBUG] Added args to lin_map: []
[INFO] Checking function body
[INFO] Checking new block
[DEBUG] Added locals to lin_map: []
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int unrestricted int c = unrestricted int unrestricted int *a + unrestricted int *b"
[INFO] Checking assignment expression
[DEBUG] Assignment is  "unrestricted int c = unrestricted int unrestricted int *a + unrestricted int *b"
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int unrestricted int *a + unrestricted int *b"
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int *a"
[DEBUG] Not in lin_map, must be unrestricted dereference
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int *b"
[DEBUG] Not in lin_map, must be unrestricted dereference
[INFO] Marking c as assigned
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int return(unrestricted int c)"
[INFO] Checking function call to return
[DEBUG] Function call args: unrestricted int c
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int c"
Checking lone identifier "c" (is_consumed=true)
[INFO] Marking c as consumed
[DEBUG] Checked statements, lin_map: []
[INFO] Removing locally declared variables
[DEBUG] Didn't find decl c, assuming unrestricted
[DEBUG] Final lin_map for sum []
[INFO] Checking linearity of function: main
[DEBUG] Added args to lin_map: []
[INFO] Checking function body
[INFO] Checking new block
[DEBUG] Added locals to lin_map: []
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int unrestricted int a = unrestricted int 1"
[INFO] Checking assignment expression
[DEBUG] Assignment is  "unrestricted int a = unrestricted int 1"
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int 1"
[INFO] Marking a as assigned
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int unrestricted int b = unrestricted int 2"
[INFO] Checking assignment expression
[DEBUG] Assignment is  "unrestricted int b = unrestricted int 2"
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int 2"
[INFO] Marking b as assigned
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int unrestricted int c = unrestricted int sum(ref unrestricted int &a, ref unrestricted int &b)"
[INFO] Checking assignment expression
[DEBUG] Assignment is  "unrestricted int c = unrestricted int sum(ref unrestricted int &a, ref unrestricted int &b)"
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int sum(ref unrestricted int &a, ref unrestricted int &b)"
[INFO] Checking function call to sum
[DEBUG] Function call args: ref unrestricted int &a, ref unrestricted int &b
[INFO] Checking expression
[DEBUG] Expression is  "ref unrestricted int &a"
[DEBUG] Not in lin_map, must be unrestricted borrow
[INFO] Checking expression
[DEBUG] Expression is  "ref unrestricted int &b"
[DEBUG] Not in lin_map, must be unrestricted borrow
[INFO] Marking c as assigned
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int return(unrestricted int c)"
[INFO] Checking function call to return
[DEBUG] Function call args: unrestricted int c
[INFO] Checking expression
[DEBUG] Expression is  "unrestricted int c"
Checking lone identifier "c" (is_consumed=true)
[INFO] Marking c as consumed
[DEBUG] Checked statements, lin_map: []
[INFO] Removing locally declared variables
[DEBUG] Didn't find decl a, assuming unrestricted
[DEBUG] Didn't find decl b, assuming unrestricted
[DEBUG] Didn't find decl c, assuming unrestricted
[DEBUG] Final lin_map for main []
[INFO] Done checking linearity

Abstract Syntax Tree:
unrestricted int sum(ref unrestricted int a, ref unrestricted int b) {
unrestricted int c;
c = *a + *b;
return c;
}unrestricted int main() {
unrestricted int a;
unrestricted int b;
unrestricted int c;
a = 1;
b = 2;
c = sum(&a, &b);
return c;
}

Semantic Checked Abstract Syntax Tree:
unrestricted int sum(ref unrestricted int a, ref unrestricted int b) {
unrestricted int c;
unrestricted int unrestricted int c = unrestricted int unrestricted int *a + unrestricted int *b;
return unrestricted int c;
}unrestricted int main() {
unrestricted int a;
unrestricted int b;
unrestricted int c;
unrestricted int unrestricted int a = unrestricted int 1;
unrestricted int unrestricted int b = unrestricted int 2;
unrestricted int unrestricted int c = unrestricted int sum(ref unrestricted int &a, ref unrestricted int &b);
return unrestricted int c;
}

Linearity Results:
LINEAR CHECK SUCCESS
Program Info:
Struct Info:
[]
Func Info:
[]
Linear Maps:
sum -> []
main -> []


COMPILATION SUCCESS
